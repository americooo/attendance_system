{% extends 'attendance/base.html' %}

{% block content %}
<div class="container mx-auto p-6">
  <h1 class="text-3xl font-bold mb-6 text-center">📝 Mark Attendance</h1>

  <form method="POST" class="bg-white p-6 rounded-lg shadow">
    {% csrf_token %}
    <div class="overflow-x-auto">
      <table class="min-w-full">
        <thead>
          <tr class="bg-gray-800 text-white">
            <th class="py-3 px-4 text-left">Roll No</th>
            <th class="py-3 px-4 text-left">Name</th>
            <th class="py-3 px-4 text-left">Status</th>
          </tr>
        </thead>
        <tbody>
          {% for student in students %}
          <tr class="border-b hover:bg-gray-50">
            <td class="py-3 px-4">{{ student.roll_number }}</td>
            <td class="py-3 px-4">{{ student.user.username }}</td>
            <td class="py-3 px-4">
              <select name="student_{{ student.id }}" class="border rounded px-2 py-1">
                <option value="Present">Present</option>
                <option value="Absent">Absent</option>
              </select>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3" class="text-center py-4 text-gray-500">No students found.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="mt-6 text-center">
      <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition">
        ✅ Save Attendance
      </button>
      <a href="{% url 'dashboard' %}" class="ml-3 bg-gray-400 text-white px-6 py-2 rounded hover:bg-gray-500 transition">
        ⬅ Back
      </a>
    </div>
  </form>
</div>
{% endblock %}
